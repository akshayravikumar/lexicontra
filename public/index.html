<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>

    <!-- Ensure that everything scales appropriately on a mobile device -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Let's borrow a cool looking Font from Google -->
    <!--link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'-->

    <link href="css/styles.css" rel="stylesheet">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <!--script src="http://code.jquery.com/jquery-1.11.1.js"></script-->
    <script src = "https://code.jquery.com/jquery-2.1.3.min.js"></script>

</head>

<body>


    <div id="mainArea" class = "titlePage">
        <!-- This is where the templates defined below will be used -->
    </div>

    <!-- Main Title Screen that appears when the page loads for the first time -->
    <script id="intro-screen-template" type="text/template" >
        <div class="container-fluid">
        <div class="col-md-3"> </div>
        <div class="col-md-6 vcenter"> 
            <form id        =  "uploadForm"
                 enctype   =  "multipart/form-data"
                 action    =  "/pic_submit"
                 method    =  "post"
                 class      = "vcenter"
                 >
              <div class="form-group">
                <label for="exampleInputEmail1">Upload your image here.</label>
                <input type="file" id="inputImage" class="form-control" value="Upload Image" name="userPhoto" >
              </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Where was this taken?</label>
                <input type="text" class="form-control" id="inputLocation" placeholder="City and State, Please" required>
              </div>
              <div class="form-group">
                  <label for="comment">Share the story here.</label>
                  <textarea class="form-control" rows="5" id="inputBody" required></textarea>
                </div>
              <button type="submit" id="submitImage" class="btn btn-default" disabled="disabled">Submit</button>
            </form>
        </div>
        <div class="col-md-3">  </div>
    </div>
    </script>

    <script>
    $(function() {
         $("#inputImage").change(function (){
           var fileName = $(this).val();
           var val = fileName.substring(fileName.lastIndexOf('.') + 1).toLowerCase();
           if (val == 'jpg' || val=='png') {
                $("#submitImage").removeAttr("disabled");
           }
           else {
            alert("This isn't an image...");
            $("#submitImage").attr('disabled','disabled');
            $(this).val('');
           }
         });
      });
    </script>
 
      

    <script src="app.js"></script>

</body>
</html>
